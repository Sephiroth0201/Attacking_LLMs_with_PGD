# Attacking_LLMs_with_PGD

first Column of U = $$@^$$ and let $$U_2 \in \mathbb{R}^{d \times (d-1)}$$ be the other Cols. and let $$\tilde{Z} = U_2^T z$$ $$\therefore U^T \hat{\Delta} = U^T (\hat{\Theta} - \Theta^) = U^T(s\Theta^* + \sqrt{1-s^2}z) - e_1 = se_1 + U^T(\sqrt{1-s^2}z) - e_1 = \begin{bmatrix} s-1 \ \sqrt{1-s^2} \tilde{Z} \end{bmatrix} \longrightarrow$$ Subs. in $$\Delta$$ and get:
$$\psi(\hat{\Delta}; P) \leq 2(1-s^2) |||P|||_2 + 2s \sqrt{1-s^2}||\tilde{P}||_2$$ and from basic ineq / Lemma $$\longrightarrow \nu [1- \langle \hat{\Theta}, \Theta^* \rangle^2] \leq 2(1-s^2) |||P|||_2 + 2s \sqrt{1-s^2}||\tilde{P}||_2$$ if $$\nu > 2|||P|||_2 \longrightarrow \frac{\sqrt{1-s^2}}{\nu - 2|||P|||_2} \leq \frac{2s ||\tilde{P}||_2}{\nu - 2|||P|||_2}$$ and $$||\hat{\Theta} - \Theta^||_2 = \sqrt{2(1-s)} \longrightarrow :. ||\hat{\Delta}||_2 \leq \frac{\sqrt{2s}}{\sqrt{1+s}} \cdot \frac{2||\tilde{P}||_2}{\nu - 2|||P|||_2} \leq \frac{2||\tilde{P}||_2}{\nu - 2|||P|||_2}$$ Corollary: $$x_i := \sqrt{\nu} \xi_i: \Theta^ + \omega:$$ S.t $$||\Theta^||_2 =1$$, $$\xi_i$$: is mean 0. Var 1, $$\omega: \sim N(0.Id)$$. If $$(\xi_i, \omega_i) \sim S_G$$ with $$\sigma = 1$$ and we have n Samples of $$x_i$$: then $$||\hat{\Theta} - \Theta^||2 \leq C_0 \sqrt{\frac{\nu+1}{\nu}} \cdot \sqrt{\frac{d}{n}} + \delta$$ with high prob. where $$\hat{\Theta} = Max ; evec ; of ; \frac{1}{n} \sum{i=1}^n x_i: x_i^T \longrightarrow |||P|||_2 \leq \nu [\frac{1}{n} \sum \xi_i^2 - 1] + 2\sqrt{\nu} ||\frac{1}{n} \sum \xi_i : \omega_i||_2 + ||\frac{1}{n} \sum \omega_i : \omega_i^T + I||_2$$ Sparse PCA: $$\Theta^$$ is Sparse, $$\hat{\Theta} = \text{argmax} ; \hat{\Theta}^T \Sigma \Theta$$ S.t $$||\Theta||_1 \leq R$$ if $$\Sigma$$ has a unique S.Sparse max evec $$\Theta^$$, eigengap = $$\nu$$.
regularity conds. are met then $$min{||\hat{\Theta} - \Theta^||_2, ||\Theta^||_2} \leq \frac{8 \sqrt{s}}{\nu} \cdot f(n, d) \longrightarrow \text{ decreases with n}$$ Reproducing kernel Hilbert Spaces:
Vector space of functions. Inner Product: Define <...> : VxV→IR over vector space IR S.t: → <...> → ||.||v as take IP
	1	<f,g>v = <g,f>v 2) <f,f>v > 0 with equality ↔ f=0 Of an element with itself and
	2	<f+αg,h>v = <f,h>v+ α.<f,g>v ||f||v = $$ \sqrt{<f,f>v} $$ Hence V equipped with <...>v defines an inner product space
Cauchy Sequence : {f;}^n; is a Cauchy Sequence if ∀ ε>0 , ∃N(ε) s.t for each n,m >N(ε) || fm - fn ||v < ε
Hilbert Space: A Hilbert space H is an inner product space <...>H in which every Cauchy Sequence converges to some pt f*∈ H → Complete IPS
e.g) Sequence Space l²(IN): {{$$\theta_j$$}${j=1}^\infty$$ : $$ \sum{i=1}^\infty \theta_i^2 <\infty$$} and <Θ,Υ> $${l^2(IN)}$$ = $$\sum{i=1}^\infty \Theta_i \Upsilon_i$$
Similarly Square Integrable fns L² [0,1]: {f: [0,1]→IR : $$ \int_0^1 f^2(x) ,dx <\infty$$} and <f,g>$$_{L^2[0,1]}$$ = $$ \int_0^1 f(x) g(x) ,dx $$
Norms are finite in both cases
Linear functional: A map L:H→IR where His a hilbert Space S.t $$L(f+\alpha g) = L(f) +\alpha L(g)$$ for all f,g∈H, α∈IR.
L is bounded if $$|L(f)|≤ M.||f||_H$$ for Some M>0 → eg $$L(f) = <f,g>_H$$ is bounded if $$||g||_H$$ is finite
Thm: Let L:H→IR be a bounded linear functional Such that there exists a unique g∈H
Such that $$L(f) = <g,f>_H$$ for all f∈H and g is the representer of L.
kernel: A Symmetric function k: X×X→ IR is a PSD kernel if for all n>1, $${x_j}_{j=1}^n$$, where $$x_j ∈ X$$,
the matrix K where $$K_{ij} = k(x_i, x_j)$$ is Symmetric and PSD.
eg Linear kernel: X∈IR^d and $$k(x_i, x_j) = <x_i, x_j> → α^T Kα = ∑_i ∑_j α_i α_j <x_i, x_j> = (∑ α_i x_i)^T. ∑ α_j x_j$$ $$= ||∑ α_i x_i||^2 ≥ 0$$
Polynomial kernel: $$k(x,z) =<x,z>^m$$ also PSD let m=2→$$k(x,z) =\sum_{i=1}^d x_i^2 z_i^2 + 2∑_{i<j} x_i x_j z_i z_j$$
Define $$\Phi(x) = \begin{bmatrix} x_j^2 & j=1,..., d \ \vdots & \ \sqrt{2}x_i x_j & i<j \end{bmatrix}$$ :. $$k(x,z) = <\Phi(x), \Phi(z)>$$ and $$\Phi ∈ IR^{d+\binom{d}{2}}$$ ~Can be generalised to ↳ Can reduce Calculations over $$\Phi$$ by defining $$k(x,z) = (1+<x,z>)^m$$ appropriate kernel
Gaussian kernel (RBF): $$X \in \mathbb{R}^d$$ and $$k(x,z) = exp \left(\frac{-1}{2\sigma^2} ||x-z||^2 \right) \rightarrow$$ Show that this is PSD
$\hookrightarrow$ Feature map on $$l^2(\mathbb{N})$$: $$\Phi: X \rightarrow l^2(\mathbb{N})$$, define a symmetric PSD kernel $$k(x,z) = <\Phi(x), \Phi(z)>_{l^2(\mathbb{N})}$$ $\hookrightarrow$ on Fourier Basis : $$\Phi_j(x) = Sin\left( \frac{(2j-1)\lambda x}{2} \right)$$ for $$j=1,2, \dots \rightarrow orthogonal$$ and can be normalised
$\hookrightarrow$ given $${\mu_j}{j=1}^{\infty}$$ non-negative s.t $$\sum{i=1}^{\infty} \mu_j < \infty$$ let $$\Phi(x) = [\sqrt{\mu_1}\Phi_1(x) \sqrt{\mu_2}\Phi_2(x) \dots ]^T \rightarrow$$ clearly $$\Phi(x) \in l^2(\mathbb{N})$$ as norm is finite $\hookrightarrow$ $$k(x,z) = <\Phi(x), \Phi(z)>{l^2(\mathbb{N})} = \sum{j=1}^{n} \sqrt{\mu_j} \Phi_j(x) \cdot \sqrt{\mu_j} \Phi_j(z) = \sum_{i=1}^{n} \mu_j \Phi_j(x) \Phi_j(z) \rightarrow$$ Can generate kernels this way
$\hookrightarrow$ kernel Reproducing: For any $$x \in \mathbb{X}$$ the function $$k(., x) \in \mathbb{H}$$ and satisfies $$<f, k(.,x)>{\mathbb{H}} = f(x)$$ for all $$f \in \mathbb{H}$$ Hence $$<k(.,x), k(.,z)>{\mathbb{H}} = k(x,z)$$ Can be used to evaluate IP over H
$\hookrightarrow$ Let $$\tilde{H}$$ be a set of functions of the form $$f(.) = \sum_{j=1}^{m} \alpha_j k(., x_j)$$ for some $$n>1$$ with $${x_j}{j=1}^{n} \in \mathbb{X}$$ and $$\alpha_j \in \mathbb{R}$$ $\hookrightarrow$ Valid Vector Space $\hookrightarrow$ $$<f, \tilde{f}>{\tilde{H}} = \sum_{l=1}^{n} \sum_{j=1}^{n} \alpha_j \bar{\alpha_l} k(x_j, x_l) \rightarrow$$ Valid IP
